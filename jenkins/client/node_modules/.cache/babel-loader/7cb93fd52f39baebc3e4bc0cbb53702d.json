{"ast":null,"code":"import _defineProperty from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{MDBContainer,MDBRow,MDBCol,MDBInput}from'mdbreact';import validate from'validator';import{signup}from'../../utils/APICalls';import'./Signup.css';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(){var _this;_classCallCheck(this,Signup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',email:'',password:'',emptyName:false,invalidEmail:false,emptyPassword:false,signupFailed:false,errMessage:''};_this.handleNameInput=function(e){_this.setState({name:e.target.value,emptyName:false});};_this.handleEmailInput=function(e){_this.setState({email:e.target.value,invalidEmail:false});};_this.handlePasswordInput=function(e){_this.setState({password:e.target.value,emptyPassword:false});};_this.validate=function(){var invalid=false;if(_this.state.name.trim()===''){invalid=\"emptyName\";}else if(!validate.isEmail(_this.state.email)){invalid=\"invalidEmail\";}else if(_this.state.password.trim()===\"\"){invalid=\"emptyPassword\";}return invalid;};_this.handleSubmit=function(){var invalidField=_this.validate();if(invalidField){_this.setState(_defineProperty({},invalidField,true));}else{signup(_this.state.name,_this.state.email,_this.state.password).then(function(user){_this.props.signupDone();}).catch(function(error){var err;if(error.data.errmsg){err=error.data.errmsg;}else if(error.data.errors.password){err=\"Invalid Password, must be atleast 7 letters.\";}else{err=error.data.message;}_this.setState({signupFailed:true,errMessage:err});});}};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this2=this;var backToLogin=this.props.backToLogin;return/*#__PURE__*/React.createElement(MDBContainer,{className:\"login-todo-main\"},/*#__PURE__*/React.createElement(MDBRow,{className:\"align-center\"},/*#__PURE__*/React.createElement(MDBCol,{md:\"6\"},/*#__PURE__*/React.createElement(\"p\",{className:\"h5 text-center signup-heading\"},\"Sign up\"),/*#__PURE__*/React.createElement(\"div\",{className:\"grey-text\"},/*#__PURE__*/React.createElement(MDBInput,{label:\"Your name\",icon:\"user\",group:true,type:\"text\",validate:true,error:\"wrong\",success:\"right\",autoFocus:true,value:this.state.name,onChange:this.handleNameInput,size:this.state.emptyName?\"lg inputErrorDiv\":\"lg\",className:this.state.emptyName?\"inputError\":\"\"}),this.state.emptyName&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text\"},\" Name field cannot be blank.\"),/*#__PURE__*/React.createElement(MDBInput,{label:\"Your email\",icon:\"envelope\",group:true,type:\"email\",validate:true,error:\"wrong\",success:\"right\",value:this.state.email,onChange:this.handleEmailInput,size:this.state.invalidEmail?\"lg inputErrorDiv\":\"lg\",className:this.state.invalidEmail?\"inputError\":\"\"}),this.state.invalidEmail&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text\"},\" Please type valid email address.\"),/*#__PURE__*/React.createElement(MDBInput,{label:\"Your password\",icon:\"lock\",group:true,type:\"password\",validate:true,value:this.state.password,onChange:this.handlePasswordInput,size:this.state.emptyPassword?\"lg inputErrorDiv\":\"lg\",className:this.state.emptyPassword?\"inputError\":\"\"}),this.state.emptyPassword&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text\"},\"Password cannot be blank.\"),this.state.signupFailed&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text signin-bad-response\"},\" Error: \",this.state.errMessage,\", please try again.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){_this2.handleSubmit();},className:\"btn Ripple-parent btn btn-outline-info-modified Ripple-parent waves-effect\"},\"Create User\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"login-link\",onClick:function onClick(){backToLogin();}},\"Sign-in\"))))));}}]);return Signup;}(Component);;export default Signup;","map":{"version":3,"sources":["/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/src/components/Signup/Signup.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBInput","validate","signup","Signup","state","name","email","password","emptyName","invalidEmail","emptyPassword","signupFailed","errMessage","handleNameInput","e","setState","target","value","handleEmailInput","handlePasswordInput","invalid","trim","isEmail","handleSubmit","invalidField","then","user","props","signupDone","catch","error","err","data","errmsg","errors","message","backToLogin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { MDBContainer, MDBRow, MDBCol, MDBInput } from 'mdbreact';\nimport validate from 'validator'\nimport { signup } from '../../utils/APICalls'\nimport './Signup.css'\nclass Signup extends Component {\n    state = {\n        name: '',\n        email: '',\n        password: '',\n        emptyName: false,\n        invalidEmail: false,\n        emptyPassword: false,\n        signupFailed: false,\n        errMessage: ''\n    }\n\n    handleNameInput = (e) => {\n        this.setState({\n            name: e.target.value,\n            emptyName: false\n        })\n    }\n\n    handleEmailInput = (e) => {\n        this.setState({\n            email: e.target.value,\n            invalidEmail: false\n        })\n    }\n    handlePasswordInput = (e) => {\n        this.setState({\n            password: e.target.value,\n            emptyPassword: false\n        })\n    }\n    validate = () => {\n        let invalid = false\n        if (this.state.name.trim() === '') {\n            invalid = \"emptyName\"\n        }\n        else if (!validate.isEmail(this.state.email)) {\n            invalid = \"invalidEmail\"\n        }\n        else if (this.state.password.trim() === \"\") {\n            invalid = \"emptyPassword\"\n        }\n\n        return invalid\n    }\n\n    handleSubmit = () => {\n        const invalidField = this.validate()\n        if (invalidField) {\n            this.setState({ [invalidField]: true })\n        }\n        else {\n            signup(this.state.name, this.state.email, this.state.password)\n                .then(user => {\n                    this.props.signupDone()\n                })\n                .catch(error => {\n                    let err\n                    if (error.data.errmsg) {\n                        err = error.data.errmsg\n                    }\n                    else if (error.data.errors.password) {\n                        err = \"Invalid Password, must be atleast 7 letters.\"\n                    }\n                    else {\n                        err = error.data.message\n                    }\n                    this.setState({\n                        signupFailed: true,\n                        errMessage: err\n                    })\n                })\n        }\n    }\n\n    render() {\n        const { backToLogin } = this.props\n        return (\n            <MDBContainer className=\"login-todo-main\">\n                <MDBRow className=\"align-center\">\n                    <MDBCol md=\"6\">\n                        <p className=\"h5 text-center signup-heading\">Sign up</p>\n                        <div className=\"grey-text\">\n                            <MDBInput\n                                label=\"Your name\"\n                                icon=\"user\"\n                                group\n                                type=\"text\"\n                                validate\n                                error=\"wrong\"\n                                success=\"right\"\n                                autoFocus\n                                value={this.state.name}\n                                onChange={this.handleNameInput}\n                                size={(this.state.emptyName) ? \"lg inputErrorDiv\" : \"lg\"}\n                                className={(this.state.emptyName) ? \"inputError\" : \"\"}\n                            />\n                            {\n                                (this.state.emptyName) && <span className=\"signup-error-text\"> Name field cannot be blank.</span>\n                            }\n                            <MDBInput\n                                label=\"Your email\"\n                                icon=\"envelope\"\n                                group\n                                type=\"email\"\n                                validate\n                                error=\"wrong\"\n                                success=\"right\"\n                                value={this.state.email}\n                                onChange={this.handleEmailInput}\n                                size={(this.state.invalidEmail) ? \"lg inputErrorDiv\" : \"lg\"}\n                                className={(this.state.invalidEmail) ? \"inputError\" : \"\"}\n                            />\n                            {\n                                (this.state.invalidEmail) && <span className=\"signup-error-text\"> Please type valid email address.</span>\n                            }\n                            <MDBInput\n                                label=\"Your password\"\n                                icon=\"lock\"\n                                group\n                                type=\"password\"\n                                validate\n                                value={this.state.password}\n                                onChange={this.handlePasswordInput}\n                                size={(this.state.emptyPassword) ? \"lg inputErrorDiv\" : \"lg\"}\n                                className={(this.state.emptyPassword) ? \"inputError\" : \"\"}\n                            />\n                            {\n                                (this.state.emptyPassword) && <span className=\"signup-error-text\">Password cannot be blank.</span>\n                            }\n                            {\n                                (this.state.signupFailed) && <span className=\"signup-error-text signin-bad-response\"> Error: {this.state.errMessage}, please try again.</span>\n                            }\n                        </div>\n                        <div className=\"text-center\">\n                            <button\n                                type=\"button\"\n                                onClick={() => { this.handleSubmit() }}\n                                className=\"btn Ripple-parent btn btn-outline-info-modified Ripple-parent waves-effect\">\n                                Create User\n                            </button>\n                            <div>\n                                <button className=\"login-link\" onClick={() => { backToLogin() }}>Sign-in</button>\n                            </div>\n                        </div>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n};\n\n\n\nexport default Signup"]},"metadata":{},"sourceType":"module"}