{"ast":null,"code":"import _defineProperty from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{MDBContainer,MDBRow,MDBCol,MDBInput}from'mdbreact';import validate from'validator';import'./Login.css';import{login}from'../../utils/APICalls';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:'aamir@example.com',password:'aamir123',invalidEmail:false,emptyPassword:false,loginFailed:false,errMsg:''};_this.handleEmailInput=function(e){_this.setState({email:e.target.value,invalidEmail:false});};_this.handlePasswordInput=function(e){_this.setState({password:e.target.value,emptyPassword:false});};_this.validate=function(){var invalid=false;if(!validate.isEmail(_this.state.email)){invalid=\"invalidEmail\";}else if(_this.state.password===\"\"){invalid=\"emptyPassword\";}return invalid;};_this.handleSubmit=function(){var invalidField=_this.validate();var errMsg;if(invalidField){_this.setState(_defineProperty({},invalidField,true));}else{login(_this.state.email,_this.state.password).then(function(user){_this.props.login(user);}).catch(function(error){if(error&&error.status&&error.status===400){errMsg=\"Incorrect username/password, please try again.\";}else{errMsg=\"Something went wrong, please try again later.\";}_this.setState({loginFailed:true,errMsg:errMsg});});}};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;var errMsg=this.state.errMsg;var signup=this.props.signup;return/*#__PURE__*/React.createElement(MDBContainer,{className:\"login-todo-main\"},/*#__PURE__*/React.createElement(MDBRow,{className:\"align-center\"},/*#__PURE__*/React.createElement(MDBCol,{md:\"6\"},/*#__PURE__*/React.createElement(\"p\",{className:\"h5 text-center login-heading\"},\"Sign in\"),/*#__PURE__*/React.createElement(\"div\",{className:\"grey-text\"},/*#__PURE__*/React.createElement(MDBInput,{label:\"Email:\",icon:\"envelope\",group:true,type:\"email\",validate:true,error:\"wrong\",success:\"right\",value:this.state.email,onChange:this.handleEmailInput,size:this.state.invalidEmail?\"lg inputErrorDiv\":\"lg\",className:this.state.invalidEmail?\"inputError\":\"\"}),this.state.invalidEmail&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text\"},\" Please type valid email address.\"),/*#__PURE__*/React.createElement(MDBInput,{label:\"Password: \",icon:\"lock\",group:true,type:\"password\",validate:true,value:this.state.password,onChange:this.handlePasswordInput,size:this.state.emptyPassword?\"lg inputErrorDiv\":\"lg\",className:this.state.emptyPassword?\"inputError\":\"\"}),this.state.emptyPassword&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text\"},\"Password cannot be blank.\"),this.state.loginFailed&&/*#__PURE__*/React.createElement(\"span\",{className:\"signup-error-text signin-bad-response\"},\" \",errMsg)),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this2.handleSubmit();},type:\"button\",className:\"btn Ripple-parent btn btn-outline-info-modified Ripple-parent waves-effect\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"signup\",onClick:function onClick(){signup();}},\"Signup\"))))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/Users/tanjapolz/Documents/Uni/3/devops/lecture-devops-app/app/client/src/components/Login/Login.js"],"names":["React","Component","MDBContainer","MDBRow","MDBCol","MDBInput","validate","login","Login","state","email","password","invalidEmail","emptyPassword","loginFailed","errMsg","handleEmailInput","e","setState","target","value","handlePasswordInput","invalid","isEmail","handleSubmit","invalidField","then","user","props","catch","error","status","signup"],"mappings":"85BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,YAAT,CAAuBC,MAAvB,CAA+BC,MAA/B,CAAuCC,QAAvC,KAAuD,UAAvD,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,aAAP,CACA,OAASC,KAAT,KAAsB,sBAAtB,C,GAEMC,CAAAA,K,uTACFC,K,CAAQ,CACJC,KAAK,CAAE,mBADH,CAEJC,QAAQ,CAAE,UAFN,CAGJC,YAAY,CAAE,KAHV,CAIJC,aAAa,CAAE,KAJX,CAKJC,WAAW,CAAE,KALT,CAMJC,MAAM,CAAE,EANJ,C,OAURC,gB,CAAmB,SAACC,CAAD,CAAO,CACtB,MAAKC,QAAL,CAAc,CACVR,KAAK,CAAEO,CAAC,CAACE,MAAF,CAASC,KADN,CAEVR,YAAY,CAAE,KAFJ,CAAd,EAIH,C,OACDS,mB,CAAsB,SAACJ,CAAD,CAAO,CACzB,MAAKC,QAAL,CAAc,CACVP,QAAQ,CAAEM,CAAC,CAACE,MAAF,CAASC,KADT,CAEVP,aAAa,CAAE,KAFL,CAAd,EAIH,C,OAEDP,Q,CAAW,UAAM,CACb,GAAIgB,CAAAA,OAAO,CAAG,KAAd,CACA,GAAI,CAAChB,QAAQ,CAACiB,OAAT,CAAiB,MAAKd,KAAL,CAAWC,KAA5B,CAAL,CAAyC,CACrCY,OAAO,CAAG,cAAV,CACH,CAFD,IAGK,IAAI,MAAKb,KAAL,CAAWE,QAAX,GAAwB,EAA5B,CAAgC,CACjCW,OAAO,CAAG,eAAV,CACH,CAED,MAAOA,CAAAA,OAAP,CACH,C,OAIDE,Y,CAAe,UAAM,CACjB,GAAMC,CAAAA,YAAY,CAAG,MAAKnB,QAAL,EAArB,CACA,GAAIS,CAAAA,MAAJ,CACA,GAAIU,YAAJ,CAAkB,CACd,MAAKP,QAAL,oBAAiBO,YAAjB,CAAgC,IAAhC,GACH,CAFD,IAGK,CACDlB,KAAK,CAAC,MAAKE,KAAL,CAAWC,KAAZ,CAAmB,MAAKD,KAAL,CAAWE,QAA9B,CAAL,CACKe,IADL,CACU,SAAAC,IAAI,CAAI,CACV,MAAKC,KAAL,CAAWrB,KAAX,CAAiBoB,IAAjB,EACH,CAHL,EAIKE,KAJL,CAIW,SAAAC,KAAK,CAAI,CACZ,GAAIA,KAAK,EAAIA,KAAK,CAACC,MAAf,EAAyBD,KAAK,CAACC,MAAN,GAAiB,GAA9C,CAAmD,CAC/ChB,MAAM,CAAG,gDAAT,CACH,CAFD,IAGK,CACDA,MAAM,CAAG,+CAAT,CACH,CACD,MAAKG,QAAL,CAAc,CACVJ,WAAW,CAAE,IADH,CAEVC,MAAM,CAANA,MAFU,CAAd,EAIH,CAfL,EAgBH,CACJ,C,uDAED,iBAAS,oBACGA,CAAAA,MADH,CACc,KAAKN,KADnB,CACGM,MADH,IAEGiB,CAAAA,MAFH,CAEc,KAAKJ,KAFnB,CAEGI,MAFH,CAGL,mBACI,oBAAC,YAAD,EAAc,SAAS,CAAC,iBAAxB,eACI,oBAAC,MAAD,EAAQ,SAAS,CAAC,cAAlB,eACI,oBAAC,MAAD,EAAQ,EAAE,CAAC,GAAX,eACI,yBAAG,SAAS,CAAC,8BAAb,YADJ,cAEI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,QAAD,EACI,KAAK,CAAC,QADV,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,KAHT,CAII,IAAI,CAAC,OAJT,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAC,OANV,CAOI,OAAO,CAAC,OAPZ,CAQI,KAAK,CAAE,KAAKvB,KAAL,CAAWC,KARtB,CASI,QAAQ,CAAE,KAAKM,gBATnB,CAUI,IAAI,CAAG,KAAKP,KAAL,CAAWG,YAAZ,CAA4B,kBAA5B,CAAiD,IAV3D,CAWI,SAAS,CAAG,KAAKH,KAAL,CAAWG,YAAZ,CAA4B,YAA5B,CAA2C,EAX1D,EADJ,CAeS,KAAKH,KAAL,CAAWG,YAAZ,eAA6B,4BAAM,SAAS,CAAC,mBAAhB,sCAfrC,cAiBI,oBAAC,QAAD,EACI,KAAK,CAAC,YADV,CAEI,IAAI,CAAC,MAFT,CAGI,KAAK,KAHT,CAII,IAAI,CAAC,UAJT,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAE,KAAKH,KAAL,CAAWE,QANtB,CAOI,QAAQ,CAAE,KAAKU,mBAPnB,CAQI,IAAI,CAAG,KAAKZ,KAAL,CAAWI,aAAZ,CAA6B,kBAA7B,CAAkD,IAR5D,CASI,SAAS,CAAG,KAAKJ,KAAL,CAAWI,aAAZ,CAA6B,YAA7B,CAA4C,EAT3D,EAjBJ,CA6BS,KAAKJ,KAAL,CAAWI,aAAZ,eAA8B,4BAAM,SAAS,CAAC,mBAAhB,8BA7BtC,CAgCS,KAAKJ,KAAL,CAAWK,WAAZ,eAA4B,4BAAM,SAAS,CAAC,uCAAhB,MAA0DC,MAA1D,CAhCpC,CAFJ,cAqCI,2BAAK,SAAS,CAAC,aAAf,eACI,8BACI,OAAO,CAAE,kBAAM,CAAE,MAAI,CAACS,YAAL,GAAqB,CAD1C,CAEI,IAAI,CAAC,QAFT,CAGI,SAAS,CAAC,4EAHd,UADJ,cAOI,4CACI,8BAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,kBAAM,CAAEQ,MAAM,GAAI,CAAtD,WADJ,CAPJ,CArCJ,CADJ,CADJ,CADJ,CAuDH,C,mBA1He/B,S,EA6HpB,cAAeO,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBInput } from 'mdbreact';\nimport validate from 'validator'\nimport './Login.css'\nimport { login } from '../../utils/APICalls'\n\nclass Login extends Component {\n    state = {\n        email: 'aamir@example.com',\n        password: 'aamir123',\n        invalidEmail: false,\n        emptyPassword: false,\n        loginFailed: false,\n        errMsg: ''\n    }\n\n\n    handleEmailInput = (e) => {\n        this.setState({\n            email: e.target.value,\n            invalidEmail: false\n        })\n    }\n    handlePasswordInput = (e) => {\n        this.setState({\n            password: e.target.value,\n            emptyPassword: false\n        })\n    }\n\n    validate = () => {\n        let invalid = false\n        if (!validate.isEmail(this.state.email)) {\n            invalid = \"invalidEmail\"\n        }\n        else if (this.state.password === \"\") {\n            invalid = \"emptyPassword\"\n        }\n\n        return invalid\n    }\n\n\n\n    handleSubmit = () => {\n        const invalidField = this.validate()\n        let errMsg\n        if (invalidField) {\n            this.setState({ [invalidField]: true })\n        }\n        else {\n            login(this.state.email, this.state.password)\n                .then(user => {\n                    this.props.login(user)\n                })\n                .catch(error => {\n                    if (error && error.status && error.status === 400) {\n                        errMsg = \"Incorrect username/password, please try again.\"\n                    }\n                    else {\n                        errMsg = \"Something went wrong, please try again later.\"\n                    }\n                    this.setState({\n                        loginFailed: true,\n                        errMsg\n                    })\n                })\n        }\n    }\n\n    render() {\n        const { errMsg } = this.state\n        const { signup } = this.props\n        return (\n            <MDBContainer className=\"login-todo-main\">\n                <MDBRow className=\"align-center\">\n                    <MDBCol md=\"6\">\n                        <p className=\"h5 text-center login-heading\">Sign in</p>\n                        <div className=\"grey-text\">\n                            <MDBInput\n                                label=\"Email:\"\n                                icon=\"envelope\"\n                                group\n                                type=\"email\"\n                                validate\n                                error=\"wrong\"\n                                success=\"right\"\n                                value={this.state.email}\n                                onChange={this.handleEmailInput}\n                                size={(this.state.invalidEmail) ? \"lg inputErrorDiv\" : \"lg\"}\n                                className={(this.state.invalidEmail) ? \"inputError\" : \"\"}\n                            />\n                            {\n                                (this.state.invalidEmail) && <span className=\"signup-error-text\"> Please type valid email address.</span>\n                            }\n                            <MDBInput\n                                label=\"Password: \"\n                                icon=\"lock\"\n                                group\n                                type=\"password\"\n                                validate\n                                value={this.state.password}\n                                onChange={this.handlePasswordInput}\n                                size={(this.state.emptyPassword) ? \"lg inputErrorDiv\" : \"lg\"}\n                                className={(this.state.emptyPassword) ? \"inputError\" : \"\"}\n                            />\n                            {\n                                (this.state.emptyPassword) && <span className=\"signup-error-text\">Password cannot be blank.</span>\n                            }\n                            {\n                                (this.state.loginFailed) && <span className=\"signup-error-text signin-bad-response\"> {errMsg}</span>\n                            }\n                        </div>\n                        <div className=\"text-center\">\n                            <button\n                                onClick={() => { this.handleSubmit() }}\n                                type=\"button\"\n                                className=\"btn Ripple-parent btn btn-outline-info-modified Ripple-parent waves-effect\">\n                                Login\n                            </button>\n                            <div>\n                                <button className=\"signup\" onClick={() => { signup() }}>Signup</button>\n                            </div>\n                        </div>\n                    </MDBCol>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}